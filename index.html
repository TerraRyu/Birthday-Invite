<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Birthday Date Invite üíñ</title>
<link rel="icon" href="data:,">
<style>
    :root{
        --bg:#fff0f6;
        --card:#ffffff;
        --accent:#ff5fa8;
        --accent-2:#ff9ecf;
        --muted:#6b6b6b;
        --radius:16px;
    }
    *{box-sizing:border-box}
    body,html{height:100%; margin:0; font-family: Inter, "Segoe UI", system-ui, -apple-system, Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased}
    body{
        background: linear-gradient(180deg, #fff0f6 0%, #fff8fb 100%);
        display:flex; align-items:center; justify-content:center; padding:18px;
        color:#222; overflow:hidden;
    }
    .wrap{ width:100%; max-width:900px; height:100%; display:flex; align-items:center; justify-content:center; }
    .card{
        width:100%; height:100%; max-height:920px; border-radius:18px; background:var(--card);
        box-shadow:0 18px 50px rgba(255,95,168,0.12); padding:18px; position:relative; overflow:hidden;
        display:flex; flex-direction:column;
    }
    header{ display:flex; gap:12px; align-items:center; margin-bottom:8px; }
    .logo{ width:56px; height:56px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent-2)); display:flex; align-items:center; justify-content:center; color:white; font-weight:800; font-size:20px; box-shadow:0 8px 22px rgba(255,95,168,0.12) }
    header h1{ margin:0; color:var(--accent); font-size:18px}
    header p{ margin:0; color:var(--muted); font-size:13px; }

    /* Content area */
    .content{ flex:1; display:flex; align-items:center; justify-content:center; position:relative; }
    .page{ width:100%; max-width:820px; padding:14px; display:none; align-items:center; justify-content:center; flex-direction:column; text-align:center; gap:12px; }
    .page.active{ display:flex; animation: fadeIn .4s ease both; }
    @keyframes fadeIn{ from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none} }

    .title{ font-size:22px; font-weight:700; color:#ff3b86 }
    .lead{ font-size:15px; color:#333; max-width:760px }

    /* Buttons */
    .row{ display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; margin-top:12px }
    .btn{ background:var(--accent); color:white; border:none; padding:12px 18px; border-radius:12px; font-weight:700; cursor:pointer; box-shadow:0 8px 18px rgba(255,95,168,0.14); transition:transform .12s ease }
    .btn:hover{ transform:translateY(-3px) }
    .btn.secondary{ background:#fff; color:var(--accent); border:2px solid #ffd3e8; box-shadow:none }
    .small{ padding:8px 12px; border-radius:10px }

    /* gif */
    .gif{ width:220px; max-width:60%; border-radius:12px; display:block; margin:6px auto; box-shadow:0 10px 28px rgba(0,0,0,0.06) }

    /* Dress grid */
    .grid{ display:flex; gap:14px; justify-content:center; align-items:flex-start; flex-wrap:wrap; margin-top:6px }
    .card-option{ width:150px; border-radius:12px; padding:8px; text-align:center; cursor:pointer; background:linear-gradient(180deg,#fff,#fff); border:2px solid transparent; transition:transform .12s, box-shadow .12s, border .12s; position:relative }
    .card-option img{ width:100%; height:190px; object-fit:cover; border-radius:10px; display:block }
    .card-option .opt-title{ margin-top:8px; font-weight:700; color:#ff4d87 }
    .card-option.selected{ border-color:#ffd3e8; box-shadow:0 16px 40px rgba(255,95,168,0.08); transform:translateY(-6px) }
    .heart-badge{ position:absolute; top:10px; right:10px; width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,#ff5fa8,#ff9ecf); display:flex; align-items:center; justify-content:center; color:white; font-weight:800; box-shadow:0 6px 18px rgba(255,95,168,0.18); opacity:0; transform:scale(.6); transition:all .18s }
    .card-option.selected .heart-badge{ opacity:1; transform:scale(1) }

    /* Accept/Reject area */
    .accept-area{ width:100%; max-width:720px; min-height:150px; display:flex; align-items:center; justify-content:center; position:relative; margin-top:12px }
    #rejectBtn{ position:absolute; right:64px; bottom:18px; background:#fff; color:#ff416c; border:2px solid #ffd3e8; padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:800; transition:all 180ms ease }
    #rejectBtn.hidden{ display:none }
    #acceptBtn{ z-index:5 }

    /* final references */
    .refs{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:10px }
    .ref-img{ width:140px; height:150px; object-fit:cover; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,0.06) }

    /* photo placeholder for backend to replace (no upload UI) */
    .photo-placeholder{
        width:260px; height:260px; border-radius:14px; border:2px dashed #ffdce7; display:flex; align-items:center; justify-content:center; color:#ff6ea0; font-weight:700; background:linear-gradient(180deg,#fff6fb,#fff);
        margin:12px auto; box-shadow:0 10px 28px rgba(255,95,168,0.06)
    }

    /* add to your existing CSS (near .photo-placeholder or .ref-img rules) */
    .photo-preview {
    width: 100%;
    max-width: 260px;      /* change to desired max */
    height: auto;
    max-height: 260px;
    object-fit: cover;
    border-radius: 12px;
    display: block;
    margin: 12px auto;
    box-shadow: 0 10px 28px rgba(255,95,168,0.08);
    }


    /* small text */
    .muted{ font-size:13px; color:var(--muted) }

    /* music toggles */
    .music-toggle{ position:absolute; top:18px; right:18px; display:flex; gap:8px; align-items:center }

    /* responsive */
    @media (max-width:620px){
        .card-option{ width:44% }
        .ref-img{ width:40%; height:120px }
        .gif{ width:170px }
        .photo-placeholder{ width:86%; height:220px }
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="card" role="main">

    <header>
      <div class="logo">üíï</div>
      <div>
        <h1>Birthday Invite ‚Äî Nov 9</h1>
        <p>Interactive invite ‚Äî open this link on your phone üíû</p>
      </div>

    </header>

    <div class="content">
      <!-- Page 1 -->
      <section id="page1" class="page active" aria-hidden="false">
        <div class="title">Hey love üíñ</div>
        <div class="lead">I planned a little birthday date for you. Will you join me for a special day? (There are surprises!)</div>
        <img class="gif" src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="hearts gif">
        <div class="row"><button class="btn" onclick="show(2)">Continue üíï</button></div>
        <div class="muted">Tap Continue to see the plan ‚Äî mobile friendly ‚ú®</div>
      </section>

      <!-- Page 2 -->
      <section id="page2" class="page" aria-hidden="true">
        <div class="title">When & Where üìç</div>
        <div class="lead">üìÖ <strong>9 November 2025 (12pm)</strong> ‚Äî meet at <strong>VivoCity</strong></div>
        <img class="gif" src="https://media0.giphy.com/media/v1.Y2lkPTZjMDliOTUydHdzd2ZxdW9zZm80ZXZycGU3NGdueGZvYmgyOWhvYW5hczB4ZnZkZiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/0IrWhhTDsqYb9QGFcI/giphy.gif" alt="map gif">
        <div class="row">
          <a class="btn secondary" href="https://www.google.com/maps/dir/D'Nest,+127-149+Pasir+Ris+Grove,+Singapore+518133/1+HarbourFront+Walk,+VivoCity,+Singapore+098585/@1.3305545,103.8275456,13z/data=!3m2!4b1!5s0x31da19589a627ead:0xfd38f5ecc34d6960!4m14!4m13!1m5!1m1!1s0x31da3da423e4652b:0xe79ba2bd94482865!2m2!1d103.9463084!2d1.370281!1m5!1m1!1s0x31da1958974bbc2b:0xba34578f519df13f!2m2!1d103.8231658!2d1.2647139!3e3?entry=ttu&g_ep=EgoyMDI1MTEwMi4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noreferrer">Open directions</a>
          <button class="btn" onclick="show(3)">Next</button>
        </div>
        <!-- Optional iframe if you add api key -->
        <div style="margin-top:12px; width:100%; display:flex; justify-content:center">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d63819.8806366818!2d103.84736500155368!3d1.330554515090712!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e3!4m5!1s0x31da3da423e4652b%3A0xe79ba2bd94482865!2sPasir%20Ris%20Grove%2C%20D&#39;Nest%2C%20Singapore!3m2!1d1.3702809999999999!2d103.94630839999999!4m5!1s0x31da1958974bbc2b%3A0xba34578f519df13f!2s1%20HarbourFront%20Walk%2C%20VivoCity%2C%20Singapore%20098585!3m2!1d1.2647138999999998!2d103.8231658!5e0!3m2!1sen!2ssg!4v1762245046676!5m2!1sen!2ssg" 
            style="width:92%;max-width:420px;height:260px;border-radius:14px;border:4px solid #ff66aa;box-shadow:0 8px 24px rgba(255,102,170,0.12)" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
        </iframe>
        </div>
      </section>

      <!-- Page 3: outfit -->
    <section id="page3" class="page" aria-hidden="true">
        <div class="title">Pick an outfit vibe üíÉ</div>
        <div class="lead">Tap a style ‚Äî I‚Äôll show a few real references for your pick</div>
        <div class="grid">
          <div class="card-option" data-name="Dressy Chic" onclick="chooseOption(this)">
            <div class="heart-badge">üíñ</div>
            <img src="https://cdn.shopify.com/s/files/1/0269/9644/1191/files/blazer_and_skirt_480x480.jpg?v=1648859864" alt="Dressy Chic">
            <div class="opt-title">Dressy Chic</div>
          </div>

          <div class="card-option" data-name="Semi-Casual Cute" onclick="chooseOption(this)">
            <div class="heart-badge">üíñ</div>
            <img src="https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=8a9b6dfa8b0d6b7e9f2f4f6c8b1ded46" alt="Semi Casual">
            <div class="opt-title">Semi-Casual Cute</div>
          </div>

          <div class="card-option" data-name="Cozy Casual" onclick="chooseOption(this)">
            <div class="heart-badge">üíñ</div>
            <img src="https://images.unsplash.com/photo-1514996937319-344454492b37?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=2b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e" alt="Cozy Casual">
            <div class="opt-title">Cozy Casual</div>
          </div>
        </div>

        <img class="gif" src="https://media.tenor.com/V1FTPHsTbZsAAAAM/tom-and-jerry-heart-eyes.gif" alt="outfit gif" style="margin-top:12px">
        <div class="row">
          <button class="btn secondary small" onclick="show(2)">Back</button>
          <button class="btn" onclick="goConfirm()">See references</button>
        </div>
    </section>

      <!-- Page 4: Confirm references of selected outfit -->
      <section id="page4" class="page" aria-hidden="true">
        <div class="title">Lovely choice ‚ú®</div>
        <div class="lead" id="confirmLead">Here are some outfit references ‚Äî pick the vibe you like!</div>

        <div class="refs" id="refsContainer">
          <!-- reference images injected here -->
        </div>
 

        <div class="row">
          <button class="btn secondary small" onclick="show(3)">Back</button>
          <button class="btn" onclick="show(5)">Accept or Reject</button>
        </div>
      </section>

      <!-- Page 5: Accept / Reject -->
      <section id="page5" class="page" aria-hidden="true">
        <div class="title" id="askTitle">Will you come on this date? ü•∫</div>
        <div class="lead" id="askLead">I'd be so happy if you said yes üíï</div>

        <img class="gif" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="please gif">

        <div class="accept-area" id="acceptArea">
          <button id="acceptBtn" class="btn" onclick="finalAccept()">Accept üíñ</button>
          <button id="rejectBtn" onclick="rejectBehavior()">Reject üíî</button>
        </div>

        <div class="row">
          <button class="btn secondary small" onclick="show(4)">Back</button>
        </div>
      </section>

      <!-- Final Page -->
      <section id="pageFinal" class="page" aria-hidden="true">
        <div class="title">Yay ‚Äî you said yes! ü•≥</div>
        <div class="lead" id="finalText">I‚Äôm so excited ‚Äî can‚Äôt wait to celebrate with you üíû</div>

        <img class="gif" src="https://media.giphy.com/media/111ebonMs90YLu/giphy.gif" alt="celebration gif">

        <div class="row" style="margin-top:8px">
          <a id="calendarBtn" class="btn" href="#" target="_blank" rel="noreferrer">Add to Google Calendar</a>
          <a class="btn secondary" href="https://goo.gl/maps/5jLZ2q8zJkF2" target="_blank" rel="noreferrer">Open Map</a>
        </div>

        <div style="margin-top:12px; text-align:center;">
          <!-- Backend placeholder: replace this element on your server with the final image -->
          <div id="backendPhotoPlaceholder" class="photo-placeholder"><img src="PICC\Screenshot_2021-09-12-17-00-08-73.jpg" class="photo-preview" alt="Our final photo"></div>
        </div>

        <div class="row" style="margin-top:12px;">
          <button class="btn secondary small" onclick="show(1)">Start Over</button>
        </div>
      </section>

    </div>
  </div>
</div>



<script>
  // --- state & helpers
    let selected = null;
    const refs = {
    "Dressy Chic": [
        "PICC/IMG-20200127-WA0032.jpg",
        "PICC/IMG20221216113542.jpg",
        "PICC/IMG-20230611-WA0003.jpeg"
    ],
    "Semi-Casual Cute": [
        "PICC/IMG_20201218_203137.jpg",
        "PICC/Screenshot_2022-06-21-17-50-39-53_6012fa4d4ddec268fc5c7112cbb265e7.jpg",
        "PICC/Screenshot_2025-11-04_171719.png"
    ],
    "Cozy Casual": [
        "PICC/IMG20220821132602.jpg",
        "PICC/IMG-20230906-WA0001.jpg",
        "PICC/IMG-20230509-WA0017.jpeg"
    ]
    };


  // Page show/hide
    function show(n){
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page' + n).classList.add('active');
        // update current id (for keyboard nav etc)
    }

    // choose outfit: this runs when clicking a card
    function chooseOption(el){
        // de-select others
        document.querySelectorAll('.card-option').forEach(c => c.classList.remove('selected')); 
        el.classList.add('selected');
        selected = el.getAttribute('data-name');
        // update the confirm lead to show the selection succinctly
        document.getElementById('confirmLead').textContent = `You selected: ${selected}. Here are a few outfit references:`;
        // visual tiny pulse
        el.animate([{ transform: 'scale(1.02)' }, { transform: 'scale(1)' }], { duration: 200 });
    }

    function goConfirm() {
        // If nothing is selected yet, default to first option
        if (!selected) {
            selected = "Dressy Chic";
        }

        if (!refs[selected]) {
            alert("Oops! Could not find outfit references. Please select again.");
            return;
        }


        // Clear old references
        const refsEl = document.getElementById("refsContainer");
        refsEl.innerHTML = "";

        // Grab the correct reference list
        const list = refs[selected] || [];
        list.forEach((url) => {
            const img = document.createElement("img");
            img.src = url;
            img.className = "ref-img";
            img.alt = selected + " reference";
            refsEl.appendChild(img);
        });

        // Update the text on page 4
        document.getElementById("confirmLead").textContent =
            `You selected: ${selected}. Here are some outfit references ‚ú®`;

        // Switch from page3 ‚Üí page4
        document.querySelectorAll(".page").forEach((p) => p.classList.remove("active"));
        document.getElementById("page3").setAttribute("aria-hidden", "true");
        const next = document.getElementById("page4");
        next.classList.add("active");
        next.setAttribute("aria-hidden", "false");

        // Optional: scroll smoothly to top of new page
        window.scrollTo({ top: 0, behavior: "smooth" });
    }



  // Reject behavior: shrinking & random moving; max 4 rejects
    let rejectCount = 0;
    const rejectBtn = document.getElementById('rejectBtn');
    function rejectBehavior(){
        rejectCount++;
        // build "very" string
        let verys = '';
        for(let i=0;i<rejectCount;i++) verys += 'very ';
        document.getElementById('askTitle').textContent = `Are you ${verys}sure?`;
        // shrink button progressively
        const scale = Math.max(0.45, 1 - 0.16 * rejectCount);
        rejectBtn.style.transform = `scale(${scale})`;
        // random move inside acceptArea
        const area = document.getElementById('acceptArea');
        const rect = area.getBoundingClientRect();
        const btnW = Math.max(80, rejectBtn.offsetWidth);
        const btnH = Math.max(30, rejectBtn.offsetHeight);
        const pad = 8;
        const x = Math.random() * (rect.width - btnW - pad) + pad;
        const y = Math.random() * (rect.height - btnH - pad) + pad;
        rejectBtn.style.left = x + 'px';
        rejectBtn.style.top = y + 'px';
        rejectBtn.style.position = 'absolute';

        if(rejectCount >= 4){
        // final state: only accept remains, fun message
        rejectBtn.classList.add('hidden');
        document.getElementById('askTitle').textContent = 'Hahaha üòÜ you have no choice now üíï';
        // slightly change accept button text
        document.getElementById('acceptBtn').textContent = 'Ok OK I Accept üíï';
        }
    }

    // final accept: build calendar link, play song (attempt)
    function finalAccept(){
        // set calendar link
        const start = '20251109T170000';
        const end = '20251109T210000';
        const text = encodeURIComponent("Birthday Date with You üíñ");
        const details = encodeURIComponent("Movie, aquarium and dinner at VivoCity ‚Äî can't wait!");
        const location = encodeURIComponent("VivoCity Singapore");
        const calendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${text}&dates=${start}/${end}&details=${details}&location=${location}`;
        document.getElementById('calendarBtn').href = calendarUrl;

        // show final page
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('pageFinal').classList.add('active');

        // final message: show selected subtly
        const finalText = document.getElementById('finalText');
        if(selected) finalText.textContent = `You chose "${selected}" ‚Äî I think you'll look amazing. Can't wait! üíû`;
        else finalText.textContent = `I can't wait to celebrate with you! üíû`;
    }


    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if(e.key === 'ArrowRight') {
        // next page mapping (safe)
        const pages = ['page1','page2','page3','page4','page5','pageFinal'];
        // find active
        const active = Array.from(document.querySelectorAll('.page')).findIndex(p => p.classList.contains('active'));
        if(active >=0 && active < pages.length-1) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pages[active+1]).classList.add('active');
        }
        }
    });

  // init: show page1
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page1').classList.add('active');

    // Expose some functions to global
    window.show = function(n){
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page'+n).classList.add('active');
    };
    window.chooseOption = chooseOption;
    window.goConfirm = goConfirm;
    window.rejectBehavior = rejectBehavior;
    window.finalAccept = finalAccept;

</script>
</body>
</html>
